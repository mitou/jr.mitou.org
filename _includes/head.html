<!DOCTYPE html>

{% assign lang = page.lang | default: "ja" %}
{% assign translations = site.data.translations %}

<html lang="{{ lang }}" dir="ltr">
<head>
  <meta charset="utf-8">

  {% if page.title %}
  <title>{{ page.title }} - {{ translations.title[lang] }}</title>
  {% else %}
  <title>{{ translations.title[lang] }} - {{ translations.subtitle[lang] }}</title>
  {% endif %}

  {% if page.title %}
  <meta property="og:title"  content="{{ page.title }} - {{ translations.title[lang] }}" />
  <meta name="twitter:title" content="{{ page.title }} - {{ translations.title[lang] }}">
  {% else %}
  <meta property="og:title"  content="{{ translations.title[lang] }} - {{ translations.subtitle[lang] }}" />
  <meta name="twitter:title" content="{{ translations.title[lang] }} - {{ translations.subtitle[lang] }}">
  {% endif %}

  {% if page.description %}
  <meta name="description"         content="{{ page.description | liquify }}" />
  <meta name="twitter:description" content="{{ page.description | liquify }}" />
  <meta property="og:description"  content="{{ page.description | liquify }}" />
  {% else %}
  <meta name="description"         content="{{ translations.description[lang] }}" />
  <meta name="twitter:description" content="{{ translations.description[lang] }}" />
  <meta property="og:description"  content="{{ translations.description[lang] }}" />
  {% endif %}

  <meta name="author"              content="{{ translations.author[lang] }}">

  <link rel="stylesheet" href="/assets/css/main.css" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://kit.fontawesome.com/82f32b9df5.js" crossorigin="anonymous"></script>
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP:400,500,700&display=swap" rel="stylesheet">

  <!-- Facebook OGP (Static) -->
  <meta property="fb:admins" content="715330868"  />
  <meta property="fb:admins" content="1254438080" />
  <meta property="fb:app_id" content="3454272331281041" />
  <meta property="og:url"       content="{{ page.url | absolute_url }}" />
  <meta property="og:site_name" content="{{ translations.title[lang] }}" />
  <meta property="og:type"      content="website" />
  {% if lang == "ja" %}
  <meta property="og:locale"    content="ja_JP"   />
  {% else %}
  <meta property="og:locale"    content="en_US"   />
  {% endif %}

  <!-- Twitter Card (Static) -->
  <meta name="twitter:site"  content="@mitoujr" />

  <!-- Variable Contents -->
  {% if page.thumbnail %}
  <meta name="twitter:card"  content="summary_large_image" />
  <meta name="twitter:image" content="https://jr.mitou.org{{ page.thumbnail }}" />  
  <meta property="og:image"  content="https://jr.mitou.org{{ page.thumbnail }}" />
  {% else %}
  <meta name="twitter:card"  content="summary" />
  <meta name="twitter:image" content="https://jr.mitou.org/assets/img/twitter_card_square.png">  
  <meta property="og:image"  content="https://jr.mitou.org/assets/img/facebook_ogp_image{% if lang == 'en' %}_en{% endif %}.png" />    
  {% endif %}
  <meta property="og:image:width"  content="2050" />
  <meta property="og:image:height" content="900"  />

  <!-- Mobile icons for iOS/Android -->
  <link rel="apple-touch-icon"      href="/assets/img/apple-touch-icon.png" sizes="180x180">
  <link rel="manifest"              href="/site.webmanifest">
  <meta name="msapplication-TileColor" content="#509E48">
  <meta name="theme-color"             content="#509E48">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Analytics -->
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)
   },i[r].l=1*new Date();a=s.createElement(o),
			 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-77183423-1', 'auto');
   ga('send', 'pageview');
  </script>
  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GWHM8P0RTE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments)};
    gtag('js', new Date());
    gtag('config', 'G-GWHM8P0RTE');
  </script>
  
  <!-- Helpfeel -->
  {% if page.url contains '/guideline' or
        page.url contains '/download'  or
        page.url contains '/schedule'  or
        page.url contains '/about'     or
        page.url contains '/q-box'  %}
  <script src="https://helpfeel.com/projects/js/helpfeel-element.js" data-project-name="mitoujr" defer></script>
  {% endif %}
</head>
